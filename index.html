<!DOCTYPE html>
<html class= "home" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Audio Scroller</title>
</head>
<body>
    <h1>Audio Player</h1>

    <div class="audio-container" id="music-container">
        <div class="audio-info">
            <div class="progress-container" id="progress-container">
                <div class="progress" id="progress"></div>
            </div>
            <div class="time-display">
                <span id="currTime">0:00</span> / <span id="durTime">0:00</span>
            </div>
        </div>

        <audio id="audio" src="mp3s/selectedpoems_01_furlong_64kb.mp3"></audio>

        <!-- <audio id="repeat" src="mp3s/selectedpoems_01_furlong_64kb.mp3" loop controls></audio> -->


        <div class="speed-control">
            <label for="speedSlider">Speed: <span id="currentSpeed">1.0x</span></label>
            <input type="range" id="speedSlider" min="-3.0" max="3.0" value="1.0" step="0.1">
        </div>

        <div class="backward-control">
            <label for="maxSourcesInput">Max Active Sources: <span id="currentMaxSources">2</span></label>
            <input type="number" id="maxSourcesInput" min="1" max="10" value="2" step="1">
        </div>

        <div class="backward-params">
            <h3>Backward Playback Parameters</h3>
            <div class="param-group">
                <label for="segmentLengthInput">Segment Length (seconds): <span id="currentSegmentLength">2.0</span></label>
                <input type="range" id="segmentLengthInput" min="0.5" max="5" value="2.0" step="0.1">
            </div>
            <div class="param-group">
                <label for="periodInput">Period (ms): <span id="currentPeriod">1500</span></label>
                <input type="range" id="periodInput" min="500" max="3000" value="1500" step="100">
            </div>
            <div class="param-group">
                <label for="stepInput">Step (seconds): <span id="currentStep">1.5</span></label>
                <input type="range" id="stepInput" min="0.5" max="3" value="1.5" step="0.1">
            </div>
            <div class="param-group">
                <label>Calculated Backward Speed: <span id="backwardSpeed">1.0x</span></label>
            </div>
        </div>

        <div class="navigation">
            <button id="play" class="action-btn action-btn-big">
                Play<i class="fas fa-play"></i>
            </button>
            <button id="replaySecond" class="action-btn">
                Replay 1s
            </button>
            <button id="backward" title="Backward Playback" class="action-btn">Backward</button>
        </div>
    </div>

    <div class="guide">
        <h2>User Manual</h2>
        The pink progress bar can be pressed and used to navigate the audio. When clicking on it starts playing the audio file.
        The backward button currently rolls back the progress bar by 2 seconds every 1 second, replays the last second of the audio file 
        with overlap of active sources.
    </div>

<script src="script.js"></script>
</body>
</html>